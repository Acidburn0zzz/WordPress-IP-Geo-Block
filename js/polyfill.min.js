Object.create||(Object.create=function(c){function a(){}if(1<arguments.length)throw Error("Object.create implementation only accepts the first parameter.");a.prototype=c;return new a});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.isArray||(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)});this.Element&&Element.prototype.attachEvent&&!Element.prototype.addEventListener&&function(){function c(a,f){Window.prototype[a]=HTMLDocument.prototype[a]=Element.prototype[a]=f}c("addEventListener",function(a,f){var b=this,c=b.addEventListener.listeners=b.addEventListener.listeners||{},d=c[a]=c[a]||[];d.length||b.attachEvent("on"+a,d.event=function(a){var c=b.document&&b.document.documentElement||b.documentElement||{scrollLeft:0,scrollTop:0};a.currentTarget=b;a.pageX=a.clientX+c.scrollLeft;a.pageY=a.clientY+c.scrollTop;a.preventDefault=function(){a.returnValue=!1};a.relatedTarget=a.fromElement||null;a.stopImmediatePropagation=function(){h=!1;a.cancelBubble=!0};a.stopPropagation=function(){a.cancelBubble=!0};a.target=a.srcElement||b;a.timeStamp=+new Date;for(var c=0,f=[].concat(d),e,h=!0;h&&(e=f[c]);++c)for(var k=0,g;g=d[k];++k)if(g==e){g.call(b,a);break}});d.push(f)});c("removeEventListener",function(a,c){for(var b=this.addEventListener.listeners=this.addEventListener.listeners||{},b=b[a]=b[a]||[],e=b.length-1,d;d=b[e];--e)if(d==c){b.splice(e,1);break}!b.length&&b.event&&this.detachEvent("on"+a,b.event)});c("dispatchEvent",function(a){var c=a.type,b=this.addEventListener.listeners=this.addEventListener.listeners||{},b=b[c]=b[c]||[];try{return this.fireEvent("on"+c,a)}catch(e){b.event&&b.event(a)}})}();